schema: '2.0'
stages:
  transform:
    cmd:
    - python scripts/areas/employment/transform-labour-market.py
    - python scripts/areas/education/neet.py
    deps:
    - path: scripts/areas/education/neet.py
      hash: md5
      md5: 13183cdf13429a97f926aa9024ade366
      size: 699
    - path: scripts/areas/employment/transform-labour-market.py
      hash: md5
      md5: 826f1e565964621b1da1f92e0d6410ab
      size: 4856
    - path: working/upstream/labour-market_last_3_years_by_pcon_2010.csv
      hash: md5
      md5: 075509e09b9c108ec184bad5510de797
      size: 11551228
    - path: working/upstream/labour-market_most_recent_by_pcon.csv
      hash: md5
      md5: 1d0071636f87d2336aa293a872827ea4
      size: 2401777
    outs:
    - path: data/area/pcon/econ_active_16-19_last_3_years.csv
      hash: md5
      md5: 768c594b79ba7dc5fa5c865ee929b473
      size: 56862
    - path: data/area/pcon/econ_active_20-24_last_3_years.csv
      hash: md5
      md5: 0b5776ff247327a5292d541410afcb6b
      size: 73942
    - path: data/area/pcon/econ_inactive_16-24_last_3_years.csv
      hash: md5
      md5: 14a583ad739c44cbb0caf12adec9732d
      size: 74429
    - path: data/area/pcon/education_attainment_pcon_2010.csv
      hash: md5
      md5: 3d0f49f496e5b1b4ccb59ffb9daa1528
      size: 17431
    - path: data/area/pcon/headlines.csv
      hash: md5
      md5: ef05314ddb75942ae7da8482008c9f34
      size: 75884
    - path: data/area/pcon/youth_unem_16-24_last_3_years.csv
      hash: md5
      md5: 78e98b21c22be58c29b494847d04c9e2
      size: 32804
  summarise:
    cmd: python summarise.py
    deps:
    - path: ../../data/area/pcon/econ_active_16-19_last_3_years.csv
      hash: md5
      md5: 30385be9c241cdb066f2cc40b376d786
      size: 56937
    - path: ../../data/area/pcon/econ_active_20-24_last_3_years.csv
      hash: md5
      md5: cf2a319084d4d8bb21d9282c45bc85d7
      size: 74017
    - path: ../../data/area/pcon/econ_inactive_16-24_last_3_years.csv
      hash: md5
      md5: e88e721f000da61b6da3c5b902cba117
      size: 74500
    - path: ../../data/area/pcon/education_attainment_pcon_2010.csv
      hash: md5
      md5: 3d0f49f496e5b1b4ccb59ffb9daa1528
      size: 17431
    - path: ../../data/area/pcon/headlines.csv
      hash: md5
      md5: 3fd47b2714f8e09619e7bca04c8cece4
      size: 75964
    - path: ../../data/area/pcon/youth_unem_16-24_last_3_years.csv
      hash: md5
      md5: c339824fdfa504e5c2de8b6bab117f33
      size: 32859
    - path: ../../data/reference/constituency-descriptions.csv
      hash: md5
      md5: 8a9a902eff647f6ddd02fa35c809b323
      size: 5923
    - path: ../../src/_data/areas/reference/pcon.json
      hash: md5
      md5: 4cd0c6849d470106df45687b40b38767
      size: 68655
    - path: summarise.py
      hash: md5
      md5: 2fc46c7b4df3edc44d1fefd9cef93d49
      size: 8198
    outs:
    - path: ../../src/generated/areas/constituency/_data/summary.json
      hash: md5
      md5: f1d17d78f02fa9b5c772ec4ab678d783
      size: 2870608
  transform-labour-market:
    cmd: python scripts/areas/employment/transform-labour-market.py
    deps:
    - path: scripts/areas/employment/transform-labour-market.py
      hash: md5
      md5: 826f1e565964621b1da1f92e0d6410ab
      size: 4856
    - path: working/upstream/labour_market_by_pcon.parquet
      hash: md5
      md5: f9aec29eba613c48b60169b558d56fbc
      size: 353355
    outs:
    - path: data/area/pcon/econ_active_16-19_last_3_years.csv
      hash: md5
      md5: 30385be9c241cdb066f2cc40b376d786
      size: 56937
    - path: data/area/pcon/econ_active_20-24_last_3_years.csv
      hash: md5
      md5: cf2a319084d4d8bb21d9282c45bc85d7
      size: 74017
    - path: data/area/pcon/econ_inactive_16-24_last_3_years.csv
      hash: md5
      md5: e88e721f000da61b6da3c5b902cba117
      size: 74500
    - path: data/area/pcon/headlines.csv
      hash: md5
      md5: 3fd47b2714f8e09619e7bca04c8cece4
      size: 75964
    - path: data/area/pcon/youth_unem_16-24_last_3_years.csv
      hash: md5
      md5: c339824fdfa504e5c2de8b6bab117f33
      size: 32859
  transform-education:
    cmd: python scripts/areas/education/neet.py
    deps:
    - path: scripts/areas/education/neet.py
      hash: md5
      md5: 4b90e101a7b25375e448c443eb18bcd3
      size: 776
    - path: working/upstream/education_attainment_pcon_2010.csv
      hash: md5
      md5: fc1d03b76bc383b33625760c75badd50
      size: 24793
    outs:
    - path: data/area/pcon/education_attainment_pcon_2010.csv
      hash: md5
      md5: 3d0f49f496e5b1b4ccb59ffb9daa1528
      size: 17431
  prepare:
    cmd: papermill prepare.ipynb -
    deps:
    - path: ../../working/upstream/uk-constituencies-2024-changes.json
      hash: md5
      md5: 89e608e93a2b86310bc9cf35b3f3e150
      size: 103106
    - path: ../../working/upstream/uk-constituencies-2024.geojson
      hash: md5
      md5: f359cca6e3fb2ea1f58b62af9d2a2f76
      size: 2143297
    outs:
    - path: ../../src/_data/areas/maps/pcon.geojson
      hash: md5
      md5: fdcdfd50ab6c15179e9a8985bf0dab5d
      size: 1233682
    - path: ../../src/_data/areas/reference/pcon.json
      hash: md5
      md5: 4cd0c6849d470106df45687b40b38767
      size: 68655
    - path: ../../src/generated/areas/constituency/_data/map.json
      hash: md5
      md5: 3998d5c4094263372872717091f72dc2
      size: 1162930
